# Create a user without login (should fail) - pass
# Make use you're logged out!
curl -X POST -H "Content-Type: application/json" -d '{"userName": "Them", "userEmail": "them@example.ca", "userPasswd": "$2y$10$GvWXZUOc5Y1U12QJI5zj2uvyKPwshAc1h5teetXv2lsdI77P3q.5a", "userAdmin": "True"}'  -b cookie-jar http://lists.hopto.org:61340/users

# Create a user with plain login (should fail) - pass
curl -i -H "Content-Type: application/json" -X POST -d '{"userEmail": "TheNewYou@example.ca", "userPassword": "$FAIL0$GvWXZUOc5Y1U12QJI5zj2uvyKPwshAc1h5teetXv2lsdI77P3q.5a"}' -c cookie-jar http://lists.hopto.org:61340/signin
curl -X POST -H "Content-Type: application/json" -d '{"userName": "Them", "userEmail": "them@example.ca", "userPasswd": "$2y$10$GvWXZUOc5Y1U12QJI5zj2uvyKPwshAc1h5teetXv2lsdI77P3q.5a", "userAdmin": "True"}'  -b cookie-jar http://lists.hopto.org:61340/users

curl -i -X DELETE  -b cookie-jar http://lists.hopto.org:61340/signin

# Create a user as admin - pass
curl -i -H "Content-Type: application/json" -X POST -d '{"userEmail": "me@example.ca", "userPassword": "$2y$10$GvWXZUOc5Y1U12QJI5zj2uvyKPwshAc1h5teetXv2lsdI77P3q.5a"}' -c cookie-jar http://lists.hopto.org:61340/signin
curl -X POST -H "Content-Type: application/json" -d '{"userName": "Them", "userEmail": "they@example.ca", "userPassword": "$2y$10$GvWXZUOc5Y1U12QJI5zj2uvyKPwshAc1h5teetXv2lsdI77P3q.5a", "userAdmin": "True"}'  -b cookie-jar http://lists.hopto.org:61340/users

# Get a list of users while not logged in (should fail) - pass
curl -X GET -H "Content-Type: application/json" http://lists.hopto.org:61340/users

# Get a list of users while logged in - pass
curl -X GET -H "Content-Type: application/json"  -b cookie-jar http://lists.hopto.org:61340/users
  - filtered by admin/not - pass
    curl -X GET -H "Content-Type: application/json"  -b cookie-jar http://lists.hopto.org:61340/users?admin=true
  - filtered by name (substring) - pass
    curl -X GET -H "Content-Type: application/json"  -b cookie-jar http://lists.hopto.org:61340/users?name="you"
  - filtered by email (substring) - pass
    curl -X GET -H "Content-Type: application/json"  -b cookie-jar http://lists.hopto.org:61340/users?email="ca"

# Get the info for a single user
curl -i -H "Content-Type: application/json" -X POST -d '{"userEmail": "me@example.ca", "userPassword": "$2y$10$GvWXZUOc5Y1U12QJI5zj2uvyKPwshAc1h5teetXv2lsdI77P3q.5a"}' -c cookie-jar http://lists.hopto.org:61340/signin
curl -X GET -H "Content-Type: application/json"  -b cookie-jar http://lists.hopto.org:61340/users/1

# Delete a user (must be user or admin)
curl -X DELETE -H "Content-Type: application/json"  -b cookie-jar http://lists.hopto.org:61340/users/34
# not admin or user
#bad userId
curl -X DELETE -H "Content-Type: application/json"  -b cookie-jar http://lists.hopto.org:61340/users/-999

# Update user info (only as that user)
curl -i -H "Content-Type: application/json" -X POST -d '{"userEmail": "TheNewYou@example.ca", "userPassword": "$FAIL0$GvWXZUOc5Y1U12QJI5zj2uvyKPwshAc1h5teetXv2lsdI77P3q.5a"}' -c cookie-jar http://lists.hopto.org:61340/signin
curl -X PUT -H "Content-Type: application/json" -d '{"userName": "uYou", "userEmail": "uTheNewYou@example.ca"}'  -b cookie-jar http://lists.hopto.org:61340/users/1
curl -X PUT -H "Content-Type: application/json" -d '{"userName": "You", "userEmail": "TheNewYou@example.ca"}'  -b cookie-jar http://lists.hopto.org:61340/users/1
